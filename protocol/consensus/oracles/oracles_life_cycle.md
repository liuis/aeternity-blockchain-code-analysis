[返回]（./ oracles.md）
## Oracle生命周期示例

###足球比赛结果是oracle

爱丽丝是足球界的忠实粉丝，她想分享比赛的结果。

Alice通过提交oracle注册事务来注册oracle
到了连锁店。

Alice为提交交易支付了费用。

Alice需要在事务中包含一些信息
 - 支付费用的查询费。
 - 查询格式的声明。
 - 响应格式的声明。

当oracle在oracle状态树中创建oracle时
交易包含在链中。

Alice正在网络中运行一个节点。 Alice注册订阅
在她的本地节点中，当有人发布查询时，她会收到通知
她的神谕。

Bob希望在块链上使用特定游戏的结果。

Bob在链上发现了Alice的oracle并发布了一个查询事务
连锁，链条。

Bob为提交交易支付了费用。费用由收取
矿工。

Bob向oracle发送查询支付费用。费用转移到
oracle的帐户。

查询事务包含：
 - 地址或爱丽丝的神谕。
 - 以Alice的oracle声明的格式的查询。
 - 矿工的交易费。
 - 将硬币转移到爱丽丝神谕。
 - 查询的TTL（如果Alice的oracle不回答查询
  在给定的时间内，鲍勃退还硬币）

查询事务在中创建一个oracle交互对象
oracle状态树。导出oracle交互对象的id
来自查询事务。

Bob在节点上注册订阅（使用oracle
交互ID）当他的回复得到通知时
查询。

当Bob的查询事务被接受到链中时，Alice就是
事件订阅触发器，并通知她有新的
查询链。

该活动包含：
 - 发件人帐户的地址，
 -  oracle交互的ID。

当比赛已经播放，并且有结果时，爱丽丝发布了一个
链上的oracle响应事务。

响应事务包含：
 -  oracle交互对象的Id。
 -  oracle定义中定义的结果。

Alice为发布交易支付交易费。费用是
由矿工收集。并作为交易爱丽丝的甲骨文的一部分
收到查询费用。

当响应交易被链条接受时，鲍勃的
事件订阅通知他有回复。

该活动包含：
 -  oracle交互对象的Id。
 - 回复的内容。
 - 响应的TTL。

Bob现在可以通过以下方式使用响应：
 - 执行引用oracle交互对象的智能合约。
 - 使用节点的公共API来获得答案。
